**Linux清除历史命令记录**

前言:通常我们可能会通过命令行远程链接其他的服务器，这样就会在历史记录中保存有连接过哪些服务器的记录，黑客如果入侵了你这台服务器，那么其他服务器
可能也会一样跟着遭殃。再者，你还有可能操作一些带有密码的特殊命令，入侵者同样可以根据你的这些命令结合连接记录，获取到你的账号和密码，在服务器运
维看来这些都是比较危险的信息，本文就教大家如何清除这些记录，让任何人都不知道你之前的操作。

首先，我们输入 history 可以查看到所有已经输入的历史命令

这个时候，通过 history -c 可以快速清除所有记录，这个时候你再输入history是看不到之前的命令了，可是...

当你退出连接，再重新连接的时候，你会发现无论是通过history还是上下键查找，之前的命令都还在，所以在本人看来history -c只能起到一时的作用，那么我
们是如何做到真正清除命令历史记录的呢？

第二，通过vim ~/.bash_history可以查看到你所有输入的命令历史记录，这就好办了吧，你可以对这个文件进行修改或者删除，如果你想保留一些常用的命令，
那么就把那些不想让别人看到的删除，然后保存退出即可。也可以直接删除这个文件，或者echo > ~/.bash_history

第三，可能这个时候会有人问，为什么删除了这些历史记录按上下键的时候还是能够查找到呢？其实是因为你没有退出连接，也就是说没有注销，当你注销以后再
重新连接，这个时候你会惊喜的发现，你不想看到的记录都不在了。

最后，普及一下，这个记录的多少是可以自定义的，如果你不想要命令的历史记录，可以通过vim /etc/profile，找到HISTSIZE，以阿里云的centos系统为例，通
常这个数值是默认1000，也就是一千条历史命令，修改成你想要的数量，然后保存退出，通过source /etc/profile命令使其生效。若想每次登陆后上次命令都消
失可以在该用户目录下的.bash_logout文件下添加代码：rm -f  ~/.bash_history这样该每次注销将自动清空.bash_history中的记录。root用户
在/etc/skel/.bash_logout中添加代码：rm -f $HOME/.bash_history

但是，还是那个但是，对于了解Linux的人来说，你做的很多操作还是会保留在你的服务器里面，比如你的服务器可以使用vim，通过复制粘贴的一些东西就会保存
到~/.viminfo里面，同样的可以通过删除或者修改这个文件来清除记录。当然类似的还有很多，比如ssh、scp，记录会保存在~/.shh/known_hosts
和/var/log/wtmp中，连接失败的会保存在/var/log/btmp等等。
